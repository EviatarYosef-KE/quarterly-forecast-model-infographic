<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quarterly Forecast Model Infographic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        brandBlue: '#2A6FDB',
                        brandGold: '#F5B82E',
                        brandGreen: '#3CC98E',
                        brandRed: '#E05252',
                        brandPurple: '#7B6BFF',
                        dark: '#1e293b',
                    }
                }
            }
        }
    </script>
    <style>
        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.5);
            box-shadow: 0 10px 40px -10px rgba(0,0,0,0.1);
        }
        .pulse-slow {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .7; }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .float {
            animation: float 6s ease-in-out infinite;
        }
        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        .animate-in {
            animation: slideIn 0.6s ease-out forwards;
        }
        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            height: 6px;
            border-radius: 5px;
            outline: none;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #7B6BFF;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        input[type="range"]::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #7B6BFF;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans selection:bg-brandPurple selection:text-white">

    <!-- Header / Hero -->
    <header class="bg-brandPurple text-white pt-16 pb-24 px-4 text-center relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none">
            <svg width="100%" height="100%">
                <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
                    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="currentColor" stroke-width="1"/>
                </pattern>
                <rect width="100%" height="100%" fill="url(#grid)" />
            </svg>
        </div>
        
        <div class="relative z-10 max-w-4xl mx-auto">
            <div class="inline-block bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-sm font-semibold mb-4 tracking-wide uppercase">
                Per-Deal Calculation
            </div>
            <h1 class="text-5xl md:text-7xl font-extrabold mb-6 tracking-tight leading-tight">Quarterly Forecast Model</h1>
            <p class="text-xl md:text-2xl text-purple-100 font-light max-w-2xl mx-auto leading-relaxed">
                A transparent view into how we calculate revenue probability.
            </p>
        </div>
    </header>

    <!-- Main Content Container -->
    <main class="max-w-6xl mx-auto px-4 -mt-16 pb-20 relative z-20">

        <!-- 1. The Equation Section -->
        <div class="glass-panel rounded-2xl p-8 md:p-10 mb-12 animate-in">
            <h2 class="text-center text-xs font-bold text-slate-400 uppercase tracking-widest mb-10">The Core Formula</h2>
            
            <div class="flex flex-col md:flex-row items-center justify-center gap-6 md:gap-3">
                
                <!-- Component 1 -->
                <div class="flex-1 w-full bg-gradient-to-br from-slate-50 to-slate-100 p-5 rounded-xl text-center border-l-4 border-slate-400 shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-xl">
                    <div class="text-slate-500 font-bold text-xs mb-2 uppercase tracking-wider">Base Value</div>
                    <div class="font-extrabold text-xl md:text-2xl text-slate-800">Commercial Pools</div>
                </div>

                <!-- Operator -->
                <div class="text-slate-300 font-extrabold text-3xl">×</div>

                <!-- Component 2 -->
                <div class="flex-1 w-full bg-gradient-to-br from-green-50 to-green-100 p-5 rounded-xl text-center border-l-4 border-brandGreen shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-xl">
                    <div class="text-green-600 font-bold text-xs mb-2 uppercase tracking-wider">Dynamic Win</div>
                    <div class="font-extrabold text-xl md:text-2xl text-slate-800">Probability</div>
                </div>

                <!-- Operator -->
                <div class="text-slate-300 font-extrabold text-3xl">×</div>

                <!-- Component 3 -->
                <div class="flex-1 w-full bg-gradient-to-br from-amber-50 to-amber-100 p-5 rounded-xl text-center border-l-4 border-brandGold shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-xl">
                    <div class="text-amber-600 font-bold text-xs mb-2 uppercase tracking-wider">Stage (70%)</div>
                    <div class="font-extrabold text-xl md:text-2xl text-slate-800">Probability</div>
                </div>

                <!-- Operator -->
                <div class="text-slate-300 font-extrabold text-3xl">×</div>

                <!-- Component 4 -->
                <div class="flex-1 w-full bg-gradient-to-br from-blue-50 to-blue-100 p-5 rounded-xl text-center border-l-4 border-brandBlue shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-xl">
                    <div class="text-blue-600 font-bold text-xs mb-2 uppercase tracking-wider">Time Left</div>
                    <div class="font-extrabold text-xl md:text-2xl text-slate-800">Probability</div>
                </div>

                <!-- Equals -->
                <div class="text-brandPurple font-extrabold text-3xl">=</div>

                <!-- Final -->
                <div class="flex-1 w-full bg-gradient-to-br from-brandPurple to-purple-600 p-5 rounded-xl text-center shadow-2xl transform scale-105 border-2 border-white text-white transition-all duration-300 hover:scale-110">
                    <div class="text-purple-200 font-bold text-xs mb-2 uppercase tracking-wider">Output</div>
                    <div class="font-black text-xl md:text-2xl">Final Forecast</div>
                </div>
            </div>
        </div>

        <!-- 2. Detailed Breakdown Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            
            <!-- Left Column: Time & Stage -->
            <div class="space-y-8">
                
                <!-- Time-Based Probability Card -->
                <div class="bg-white rounded-2xl shadow-lg border-t-8 border-brandBlue overflow-hidden transition-all duration-300 hover:shadow-2xl">
                    <div class="p-8">
                        <div class="flex items-center gap-4 mb-6">
                            <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center text-brandBlue shadow-sm">
                                <!-- Clock Icon -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-2xl font-bold text-slate-800">Time-Based Probability</h3>
                                <p class="text-brandBlue font-semibold text-sm">Calendar Urgency Factor</p>
                            </div>
                        </div>

                        <div class="relative pt-6 pb-2">
                            <!-- Graph visualization -->
                            <div class="flex items-end justify-between h-28 gap-1 mb-3 px-2">
                                <div class="w-full bg-gradient-to-t from-blue-300 to-blue-200 rounded-t h-full relative group transition-all duration-300 hover:scale-105">
                                    <span class="absolute bottom-full mb-1 left-1/2 -translate-x-1/2 text-xs font-bold text-brandBlue opacity-0 group-hover:opacity-100 transition">100%</span>
                                </div>
                                <div class="w-full bg-gradient-to-t from-blue-400 to-blue-300 rounded-t h-3/4 relative group transition-all duration-300 hover:scale-105">
                                    <span class="absolute bottom-full mb-1 left-1/2 -translate-x-1/2 text-xs font-bold text-brandBlue opacity-0 group-hover:opacity-100 transition">75%</span>
                                </div>
                                <div class="w-full bg-gradient-to-t from-blue-500 to-blue-400 rounded-t h-1/2 relative group transition-all duration-300 hover:scale-105">
                                    <span class="absolute bottom-full mb-1 left-1/2 -translate-x-1/2 text-xs font-bold text-brandBlue opacity-0 group-hover:opacity-100 transition">50%</span>
                                </div>
                                <div class="w-full bg-gradient-to-t from-blue-600 to-blue-500 rounded-t h-1/4 relative group transition-all duration-300 hover:scale-105">
                                    <span class="absolute bottom-full mb-1 left-1/2 -translate-x-1/2 text-xs font-bold text-brandBlue opacity-0 group-hover:opacity-100 transition">25%</span>
                                </div>
                                <div class="w-full bg-gradient-to-t from-brandBlue to-blue-600 rounded-t h-2 relative group transition-all duration-300 hover:scale-105">
                                    <span class="absolute bottom-full mb-1 left-1/2 -translate-x-1/2 text-xs font-bold text-brandBlue opacity-0 group-hover:opacity-100 transition">5%</span>
                                </div>
                            </div>
                            <div class="flex justify-between text-xs text-slate-500 font-semibold uppercase tracking-wider px-1">
                                <span>Day 1</span>
                                <span>Quarter End</span>
                            </div>
                        </div>
                        
                        <ul class="mt-6 space-y-3">
                            <li class="flex items-start gap-3 text-sm text-slate-600 leading-relaxed">
                                <span class="w-2 h-2 rounded-full bg-brandBlue mt-1.5 flex-shrink-0"></span>
                                <span>Starts near <strong class="text-brandBlue">100%</strong> at the beginning of each quarter.</span>
                            </li>
                            <li class="flex items-start gap-3 text-sm text-slate-600 leading-relaxed">
                                <span class="w-2 h-2 rounded-full bg-brandBlue mt-1.5 flex-shrink-0"></span>
                                <span>Decays daily as time passes, creating urgency (minimum floor of 5%).</span>
                            </li>
                            <li class="flex items-start gap-3 text-sm text-slate-600 leading-relaxed">
                                <span class="w-2 h-2 rounded-full bg-brandBlue mt-1.5 flex-shrink-0"></span>
                                <span>Automatically resets when a new quarter begins.</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Stage Probability Card -->
                <div class="bg-white rounded-2xl shadow-lg border-t-8 border-brandGold overflow-hidden transition-all duration-300 hover:shadow-2xl">
                    <div class="p-8">
                        <div class="flex items-center gap-4 mb-6">
                            <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-yellow-100 to-yellow-200 flex items-center justify-center text-brandGold shadow-sm">
                                <!-- Chart/Funnel Icon -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-2xl font-bold text-slate-800">Stage Probability</h3>
                                <p class="text-brandGold font-semibold text-sm">Historical Performance Baseline</p>
                            </div>
                        </div>

                        <div class="bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-6 text-center mb-5 border border-amber-200 shadow-sm">
                            <span class="text-xs font-bold text-amber-700 uppercase tracking-widest block mb-2">Commitment Stage</span>
                            <span class="text-6xl font-black text-brandGold block">70%</span>
                            <span class="text-xs text-amber-800/70 mt-2 block font-medium">Fixed Historical Rate</span>
                        </div>

                        <p class="text-slate-600 text-sm leading-relaxed">
                            This probability is anchored to historical win rates for deals in the "Commitment" stage. It only changes when the deal moves to a different stage in your CRM.
                        </p>
                    </div>
                </div>

            </div>

            <!-- Right Column: Dynamic Win Probability (Complex) -->
            <div class="bg-white rounded-2xl shadow-lg border-t-8 border-brandGreen overflow-hidden flex flex-col h-full transition-all duration-300 hover:shadow-2xl">
                <div class="p-8 pb-4">
                    <div class="flex items-center gap-4 mb-2">
                        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center text-brandGreen shadow-sm">
                            <!-- Activity Icon -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                            </svg>
                        </div>
                        <div>
                            <h3 class="text-2xl font-bold text-slate-800">Dynamic Win Probability</h3>
                            <p class="text-slate-500 font-semibold text-sm">Dual-Path Calculation System</p>
                        </div>
                    </div>
                </div>

                <!-- Split View -->
                <div class="flex-1 flex flex-col">
                    
                    <!-- Route A: Slow Line -->
                    <div class="px-8 pb-8 border-b border-slate-100">
                        <div class="flex items-center justify-between mb-4">
                            <h4 class="font-bold text-brandGreen flex items-center gap-2 text-lg">
                                <span class="bg-brandGreen text-white text-xs px-2.5 py-1 rounded-md shadow-sm">Default Path</span>
                                The Slow Line
                            </h4>
                            <span class="text-xs text-slate-500 font-semibold uppercase tracking-wider">Time Decay</span>
                        </div>
                        
                        <p class="text-sm text-slate-600 mb-5 leading-relaxed">Deal probability diminishes the longer it remains in the "Commitment" stage without activity.</p>

                        <!-- Timeline Graphic -->
                        <div class="space-y-3">
                            <!-- 0-30 -->
                            <div class="flex items-center gap-3">
                                <div class="w-24 text-xs font-bold text-slate-500 text-right">0-30 Days</div>
                                <div class="flex-1 bg-slate-100 h-9 rounded-lg overflow-hidden relative transition-all duration-300 hover:shadow-md">
                                    <div class="absolute top-0 left-0 h-full bg-gradient-to-r from-brandGreen to-green-400 w-1/2 flex items-center justify-end px-3 text-sm font-bold text-white shadow-inner">50%</div>
                                </div>
                            </div>
                            <!-- 30-60 -->
                            <div class="flex items-center gap-3">
                                <div class="w-24 text-xs font-bold text-slate-500 text-right">30-60 Days</div>
                                <div class="flex-1 bg-slate-100 h-9 rounded-lg overflow-hidden relative transition-all duration-300 hover:shadow-md">
                                    <div class="absolute top-0 left-0 h-full bg-gradient-to-r from-green-500 to-green-400 w-1/4 flex items-center justify-end px-3 text-sm font-bold text-white shadow-inner">25%</div>
                                </div>
                            </div>
                            <!-- 60-90 -->
                            <div class="flex items-center gap-3">
                                <div class="w-24 text-xs font-bold text-slate-500 text-right">60-90 Days</div>
                                <div class="flex-1 bg-slate-100 h-9 rounded-lg overflow-hidden relative transition-all duration-300 hover:shadow-md">
                                    <div class="absolute top-0 left-0 h-full bg-gradient-to-r from-green-600 to-green-500 w-[10%] flex items-center justify-center text-xs font-bold text-white shadow-inner">10%</div>
                                </div>
                            </div>
                            <!-- 90+ -->
                            <div class="flex items-center gap-3">
                                <div class="w-24 text-xs font-bold text-slate-500 text-right">90+ Days</div>
                                <div class="flex-1 bg-slate-100 h-9 rounded-lg overflow-hidden relative transition-all duration-300 hover:shadow-md">
                                    <div class="absolute top-0 left-0 h-full bg-gradient-to-r from-green-700 to-green-600 w-[1%]"></div>
                                    <span class="absolute left-3 top-1/2 -translate-y-1/2 text-xs font-bold text-green-700">1%</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Route B: Fast Line -->
                    <div class="p-8 bg-gradient-to-br from-slate-50 to-slate-100 flex-1">
                        <div class="flex items-center justify-between mb-4">
                            <h4 class="font-bold text-slate-800 flex items-center gap-2 text-lg">
                                <span class="bg-gradient-to-r from-slate-700 to-slate-900 text-white text-xs px-2.5 py-1 rounded-md shadow-sm">Override Path</span>
                                The Fast Line
                            </h4>
                            <span class="text-xs text-slate-500 font-semibold uppercase tracking-wider">Event-Driven</span>
                        </div>

                        <p class="text-sm text-slate-600 mb-6 leading-relaxed">Critical business events trigger <strong>immediate probability overrides</strong>, superseding the slow decay model entirely.</p>

                        <div class="grid grid-cols-2 gap-4">
                            <!-- Positive Event -->
                            <div class="bg-white p-5 rounded-xl border-2 border-green-200 shadow-sm text-center transition-all duration-300 hover:shadow-lg hover:-translate-y-1">
                                <div class="w-10 h-10 mx-auto bg-gradient-to-br from-green-100 to-green-200 text-green-600 rounded-full flex items-center justify-center mb-3 shadow-sm">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                                    </svg>
                                </div>
                                <div class="text-xs font-bold text-slate-500 uppercase tracking-wide mb-1">Signed / Legal</div>
                                <div class="text-3xl font-black text-green-600 mt-1">100%</div>
                            </div>

                            <!-- Negative Event -->
                            <div class="bg-white p-5 rounded-xl border-2 border-red-200 shadow-sm text-center transition-all duration-300 hover:shadow-lg hover:-translate-y-1">
                                <div class="w-10 h-10 mx-auto bg-gradient-to-br from-red-100 to-red-200 text-red-600 rounded-full flex items-center justify-center mb-3 shadow-sm">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                                    </svg>
                                </div>
                                <div class="text-xs font-bold text-slate-500 uppercase tracking-wide mb-1">At Risk</div>
                                <div class="text-3xl font-black text-brandRed mt-1">10%</div>
                            </div>
                            
                            <!-- Strategy Event -->
                            <div class="col-span-2 bg-white p-4 rounded-xl border-2 border-slate-200 shadow-sm flex items-center justify-between px-6 transition-all duration-300 hover:shadow-lg">
                                <div class="flex items-center gap-3">
                                    <span class="w-2.5 h-2.5 bg-brandGreen rounded-full shadow-sm"></span>
                                    <span class="text-sm font-bold text-slate-700">Strategy Lock Confirmed</span>
                                </div>
                                <div class="text-2xl font-black text-brandGreen">90%</div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- 3. Summary Footer -->
        <div class="mt-12 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-3xl p-10 md:p-14 text-center relative overflow-hidden shadow-2xl">
            <!-- Decorative elements -->
            <div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-brandPurple blur-[120px] opacity-20 pointer-events-none"></div>
            <div class="absolute bottom-0 right-0 w-64 h-64 bg-brandBlue blur-[100px] opacity-15 pointer-events-none"></div>

            <h3 class="text-3xl md:text-4xl font-bold text-white mb-3 relative z-10">Bringing It All Together</h3>
            <p class="text-slate-400 text-sm mb-8 relative z-10 max-w-2xl mx-auto">Each component multiplies to create a comprehensive forecast probability</p>
            
            <div class="flex flex-wrap items-center justify-center gap-3 md:gap-4 text-sm md:text-base font-semibold relative z-10">
                <span class="bg-slate-800/80 backdrop-blur-sm px-5 py-2.5 rounded-lg border border-slate-700 text-slate-200 transition-all duration-300 hover:bg-slate-700 hover:-translate-y-1 shadow-lg">Deal Value</span>
                <span class="text-slate-500 text-xl">×</span>
                <span class="bg-brandGreen/20 text-brandGreen px-5 py-2.5 rounded-lg border border-brandGreen/40 backdrop-blur-sm transition-all duration-300 hover:bg-brandGreen/30 hover:-translate-y-1 shadow-lg">Dynamic Behavior</span>
                <span class="text-slate-500 text-xl">×</span>
                <span class="bg-brandGold/20 text-brandGold px-5 py-2.5 rounded-lg border border-brandGold/40 backdrop-blur-sm transition-all duration-300 hover:bg-brandGold/30 hover:-translate-y-1 shadow-lg">Stage Rate</span>
                <span class="text-slate-500 text-xl">×</span>
                <span class="bg-brandBlue/20 text-brandBlue px-5 py-2.5 rounded-lg border border-brandBlue/40 backdrop-blur-sm transition-all duration-300 hover:bg-brandBlue/30 hover:-translate-y-1 shadow-lg">Quarter Timing</span>
                <span class="text-slate-500 text-xl">=</span>
                <span class="bg-gradient-to-r from-brandPurple to-purple-600 text-white px-7 py-2.5 rounded-lg shadow-2xl shadow-brandPurple/50 font-bold transition-all duration-300 hover:scale-105 hover:shadow-brandPurple/70">Final Forecast</span>
            </div>
        </div>

        <!-- 4. Interactive Calculator Section -->
        <div class="mt-12 bg-white rounded-2xl shadow-2xl border-t-8 border-brandPurple overflow-hidden">
            <div class="bg-gradient-to-r from-brandPurple to-purple-600 p-6 text-center">
                <h2 class="text-3xl font-bold text-white mb-2">Interactive Deal Calculator</h2>
                <p class="text-purple-100 text-sm">Adjust the values below to see how changes affect the final forecast</p>
            </div>

            <div id="deals-container" class="p-8 space-y-6">
                <!-- Deals will be inserted here by JavaScript -->
            </div>

            <div class="bg-slate-50 p-6 border-t border-slate-200">
                <div class="flex items-center justify-between max-w-4xl mx-auto">
                    <div class="text-left">
                        <div class="text-sm font-semibold text-slate-500 uppercase tracking-wider mb-1">Total Forecast</div>
                        <div class="text-4xl font-black text-brandPurple" id="total-forecast">$0</div>
                    </div>
                    <button onclick="addDeal()" class="bg-brandPurple text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:bg-purple-700 transition-all duration-300 hover:scale-105">
                        + Add Deal
                    </button>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="text-center text-slate-400 text-sm pb-12 pt-8">
        <p class="font-medium">Quarterly Forecast Model • Data-Driven Revenue Predictions</p>
    </footer>

    <script>
        let dealCount = 0;
        const MAX_DEALS = 6;

        const deals = [
            { name: "Enterprise Corp", pools: 250000, dynamic: 50, stage: 70, time: 85 },
            { name: "TechStart Inc", pools: 180000, dynamic: 25, stage: 70, time: 60 },
            { name: "Global Solutions", pools: 420000, dynamic: 90, stage: 70, time: 95 }
        ];

        function formatCurrency(value) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(value);
        }

        function calculateForecast(pools, dynamic, stage, time) {
            return pools * (dynamic / 100) * (stage / 100) * (time / 100);
        }

        function updateDeal(id) {
            const pools = parseFloat(document.getElementById(`pools-${id}`).value);
            const dynamic = parseFloat(document.getElementById(`dynamic-${id}`).value);
            const stage = parseFloat(document.getElementById(`stage-${id}`).value);
            const time = parseFloat(document.getElementById(`time-${id}`).value);

            document.getElementById(`pools-value-${id}`).textContent = formatCurrency(pools);
            document.getElementById(`dynamic-value-${id}`).textContent = dynamic + '%';
            document.getElementById(`stage-value-${id}`).textContent = stage + '%';
            document.getElementById(`time-value-${id}`).textContent = time + '%';

            const forecast = calculateForecast(pools, dynamic, stage, time);
            document.getElementById(`forecast-${id}`).textContent = formatCurrency(forecast);

            updateTotal();
        }

        function updateTotal() {
            let total = 0;
            for (let i = 0; i < dealCount; i++) {
                const forecastEl = document.getElementById(`forecast-${i}`);
                if (forecastEl) {
                    const forecastText = forecastEl.textContent.replace(/[$,]/g, '');
                    total += parseFloat(forecastText) || 0;
                }
            }
            document.getElementById('total-forecast').textContent = formatCurrency(total);
        }

        function removeDeal(id) {
            const dealEl = document.getElementById(`deal-${id}`);
            if (dealEl) {
                dealEl.remove();
                updateTotal();
            }
        }

        function addDeal(dealData = null) {
            if (dealCount >= MAX_DEALS) {
                alert(`Maximum of ${MAX_DEALS} deals reached`);
                return;
            }

            const id = dealCount++;
            const data = dealData || {
                name: `New Deal ${id + 1}`,
                pools: 150000,
                dynamic: 50,
                stage: 70,
                time: 75
            };

            const forecast = calculateForecast(data.pools, data.dynamic, data.stage, data.time);

            const dealHTML = `
                <div id="deal-${id}" class="border-2 border-slate-200 rounded-xl p-6 bg-slate-50 hover:border-brandPurple transition-all duration-300">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-bold text-slate-800">${data.name}</h3>
                        <button onclick="removeDeal(${id})" class="text-slate-400 hover:text-red-500 transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Commercial Pools -->
                        <div>
                            <div class="flex justify-between items-center mb-2">
                                <label class="text-sm font-semibold text-slate-600">Commercial Pools</label>
                                <span id="pools-value-${id}" class="text-sm font-bold text-slate-800">${formatCurrency(data.pools)}</span>
                            </div>
                            <input type="range" id="pools-${id}" min="10000" max="1000000" step="10000" value="${data.pools}" 
                                   class="w-full bg-slate-200" oninput="updateDeal(${id})">
                            <div class="flex justify-between text-xs text-slate-400 mt-1">
                                <span>$10k</span>
                                <span>$1M</span>
                            </div>
                        </div>

                        <!-- Dynamic Win -->
                        <div>
                            <div class="flex justify-between items-center mb-2">
                                <label class="text-sm font-semibold text-green-600">Dynamic Win Probability</label>
                                <span id="dynamic-value-${id}" class="text-sm font-bold text-green-600">${data.dynamic}%</span>
                            </div>
                            <input type="range" id="dynamic-${id}" min="1" max="100" value="${data.dynamic}" 
                                   class="w-full bg-green-200" oninput="updateDeal(${id})">
                            <div class="flex justify-between text-xs text-slate-400 mt-1">
                                <span>1%</span>
                                <span>100%</span>
                            </div>
                        </div>

                        <!-- Stage Probability -->
                        <div>
                            <div class="flex justify-between items-center mb-2">
                                <label class="text-sm font-semibold text-amber-600">Stage Probability</label>
                                <span id="stage-value-${id}" class="text-sm font-bold text-amber-600">${data.stage}%</span>
                            </div>
                            <input type="range" id="stage-${id}" min="1" max="100" value="${data.stage}" 
                                   class="w-full bg-amber-200" oninput="updateDeal(${id})">
                            <div class="flex justify-between text-xs text-slate-400 mt-1">
                                <span>1%</span>
                                <span>100%</span>
                            </div>
                        </div>

                        <!-- Time Left -->
                        <div>
                            <div class="flex justify-between items-center mb-2">
                                <label class="text-sm font-semibold text-blue-600">Time Left Probability</label>
                                <span id="time-value-${id}" class="text-sm font-bold text-blue-600">${data.time}%</span>
                            </div>
                            <input type="range" id="time-${id}" min="5" max="100" value="${data.time}" 
                                   class="w-full bg-blue-200" oninput="updateDeal(${id})">
                            <div class="flex justify-between text-xs text-slate-400 mt-1">
                                <span>5%</span>
                                <span>100%</span>
                            </div>
                        </div>
                    </div>

                    <!-- Forecast Result -->
                    <div class="mt-6 pt-6 border-t-2 border-slate-300">
                        <div class="flex items-center justify-between">
                            <span class="text-sm font-semibold text-slate-500 uppercase tracking-wider">Deal Forecast</span>
                            <span id="forecast-${id}" class="text-2xl font-black text-brandPurple">${formatCurrency(forecast)}</span>
                        </div>
                    </div>
                </div>
            `;

            document.getElementById('deals-container').insertAdjacentHTML('beforeend', dealHTML);
            updateTotal();
        }

        // Initialize with sample deals
        window.addEventListener('DOMContentLoaded', () => {
            deals.forEach(deal => addDeal(deal));
        });
    </script>

</body>
</html>
